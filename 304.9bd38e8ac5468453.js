"use strict";(self.webpackChunkSportsStore=self.webpackChunkSportsStore||[]).push([[304],{4304:(k,g,s)=>{s.r(g),s.d(g,{AdminModule:()=>x});var l=s(6814),a=s(95),p=s(9310),t=s(4946),m=s(9940);function b(e,i){if(1&e&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.hij(" ",r.errorMessage,"\n")}}let T=(()=>{var e;class i{constructor(n,o){this.router=n,this.auth=o}ngOnInit(){}authenticate(n){n.valid?this.auth.authenticate(this.username,this.password).subscribe(o=>{o&&this.router.navigateByUrl("/admin/main"),this.errorMessage="Authentication Failed"}):this.errorMessage="Form Data Invalid"}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(p.F0),t.Y36(m.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:20,vars:3,consts:[[1,"bg-info","p-2","text-center","text-white"],["class","bg-danger mt-2 p-2 text-center text-white",4,"ngIf"],[1,"p-2"],["novalidate","",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["routerLink","/",1,"btn","btn-secondary","m-1"],["type","submit",1,"btn","btn-primary","m-1"],[1,"bg-danger","mt-2","p-2","text-center","text-white"]],template:function(n,o){if(1&n){const c=t.EpF();t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"SportsStore Admin"),t.qZA()(),t.YNc(3,b,2,1,"div",1),t.TgZ(4,"div",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(c);const u=t.MAs(6);return t.KtG(o.authenticate(u))}),t.TgZ(7,"div",5)(8,"label"),t._uU(9,"Name"),t.qZA(),t.TgZ(10,"input",6),t.NdJ("ngModelChange",function(u){return o.username=u}),t.qZA()(),t.TgZ(11,"div",5)(12,"label"),t._uU(13,"Password"),t.qZA(),t.TgZ(14,"input",7),t.NdJ("ngModelChange",function(u){return o.password=u}),t.qZA()(),t.TgZ(15,"div",8)(16,"button",9),t._uU(17,"Go back"),t.qZA(),t.TgZ(18,"button",10),t._uU(19,"Log In"),t.qZA()()()()}2&n&&(t.xp6(3),t.Q6J("ngIf",null!=o.errorMessage),t.xp6(7),t.Q6J("ngModel",o.username),t.xp6(4),t.Q6J("ngModel",o.password))},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F,p.rH]}),i})(),f=(()=>{var e;class i{constructor(n,o){this.auth=n,this.router=o}logout(){this.auth.clear(),this.router.navigateByUrl("/")}ngOnInit(){}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(m.e),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","bg-dark","text-white"],[1,"navbar-brand"],[1,"row","mt-2"],[1,"col-3"],["routerLink","/admin/main/products","routerLinkActive","active",1,"btn","btn-outline-info","btn-block"],["routerLink","/admin/main/orders","routerLinkActive","active",1,"btn","btn-outline-info","btn-block"],[1,"btn","btn-outline-danger","btn-block",3,"click"],[1,"col-9"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t._uU(4,"SPORTS STORE"),t.qZA()()(),t.TgZ(5,"div",4)(6,"div",5)(7,"button",6),t._uU(8," Products "),t.qZA(),t.TgZ(9,"button",7),t._uU(10," Orders "),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.logout()}),t._uU(12," Logout "),t.qZA()(),t.TgZ(13,"div",9),t._UZ(14,"router-outlet"),t.qZA()()())},dependencies:[p.lC,p.rH,p.Od]}),i})();var h=s(9466);const A=function(e){return["/admin/main/products/edit",e]};function C(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td")(11,"button",3),t._uU(12," Edit "),t.qZA(),t.TgZ(13,"button",4),t.NdJ("click",function(){const c=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.deleteProduct(c.id))}),t._uU(14," Delete "),t.qZA()()()}if(2&e){const r=i.$implicit;t.xp6(2),t.Oqu(r.id),t.xp6(2),t.Oqu(r.name),t.xp6(2),t.Oqu(r.category),t.xp6(2),t.Oqu(t.gM2(9,5,r.price,"USD","symbol","2.2-2")),t.xp6(3),t.Q6J("routerLink",t.VKq(10,A,r.id))}}let v=(()=>{var e;class i{constructor(n){this.repository=n}getProducts(){return this.repository.getProducts()}deleteProduct(n){this.repository.deleteProduct(n)}ngOnInit(){}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(h.j))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-table"]],decls:16,vars:1,consts:[[1,"table","table-sm","table-striped"],[4,"ngFor","ngForOf"],["routerLink","/admin/main/products/create",1,"btn","btn-primary"],[1,"btn","btn-sm","btn-warning","m-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Category"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Price"),t.qZA(),t._UZ(11,"th"),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,C,15,12,"tr",1),t.qZA()(),t.TgZ(14,"button",2),t._uU(15," Create New Product "),t.qZA()),2&n&&(t.xp6(13),t.Q6J("ngForOf",o.getProducts()))},dependencies:[l.sg,p.rH,l.H9]}),i})();var q=s(3366);let _=(()=>{var e;class i{constructor(n,o,c){this.repository=n,this.router=o,this.editing=!1,this.product=new q.x,this.editing="edit"==c.snapshot.params.mode,this.editing&&Object.assign(this.product,n.getProduct(c.snapshot.params.id))}save(n){this.repository.saveProduct(this.product),this.router.navigateByUrl("/admin/main/products")}ngOnInit(){}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(h.j),t.Y36(p.F0),t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-editor"]],decls:26,vars:12,consts:[[1,"bg-primary","p-2","text-white"],["novalidate","",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["name","name",1,"form-control",3,"ngModel","ngModelChange"],["name","category",1,"form-control",3,"ngModel","ngModelChange"],["name","description",1,"form-control",3,"ngModel","ngModelChange"],["name","price",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","m-1"],["type","reset","routerLink","/admin/main/products",1,"btn","btn-secondary"]],template:function(n,o){if(1&n){const c=t.EpF();t.TgZ(0,"div",0)(1,"h5"),t._uU(2),t.qZA()(),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(c);const u=t.MAs(4);return t.KtG(o.save(u))}),t.TgZ(5,"div",3)(6,"label"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("ngModelChange",function(u){return o.product.name=u}),t.qZA()(),t.TgZ(9,"div",3)(10,"label"),t._uU(11,"Category"),t.qZA(),t.TgZ(12,"input",5),t.NdJ("ngModelChange",function(u){return o.product.category=u}),t.qZA()(),t.TgZ(13,"div",3)(14,"label"),t._uU(15,"Description"),t.qZA(),t.TgZ(16,"textarea",6),t.NdJ("ngModelChange",function(u){return o.product.description=u}),t._uU(17,"    "),t.qZA()(),t.TgZ(18,"div",3)(19,"label"),t._uU(20,"Price"),t.qZA(),t.TgZ(21,"input",7),t.NdJ("ngModelChange",function(u){return o.product.price=u}),t.qZA()(),t.TgZ(22,"button",8),t._uU(23),t.qZA(),t.TgZ(24,"button",9),t._uU(25," Cancel "),t.qZA()()}2&n&&(t.ekj("bg-warning",o.editing)("text-dark",o.editing),t.xp6(2),t.hij("",o.editing?"Edit":"Create"," Product"),t.xp6(6),t.Q6J("ngModel",o.product.name),t.xp6(4),t.Q6J("ngModel",o.product.category),t.xp6(4),t.Q6J("ngModel",o.product.description),t.xp6(5),t.Q6J("ngModel",o.product.price),t.xp6(1),t.ekj("btn-warning",o.editing),t.xp6(1),t.hij(" ",o.editing?"Save":"Create"," "))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.On,a.F,p.rH]}),i})();var y=s(9416);function M(e,i){1&e&&(t.TgZ(0,"tr")(1,"td",7),t._uU(2,"There are no orders"),t.qZA()())}function U(e,i){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"td",4),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&e){const r=i.$implicit;t.xp6(3),t.Oqu(r.product.name),t.xp6(2),t.Oqu(r.quantity)}}function O(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Product"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Quantity"),t.qZA(),t.TgZ(9,"td")(10,"button",8),t.NdJ("click",function(){const c=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.markShipped(c))}),t._uU(11," Ship "),t.qZA(),t.TgZ(12,"button",9),t.NdJ("click",function(){const c=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.delete(c.id))}),t._uU(13," Delete "),t.qZA()()(),t.YNc(14,U,6,2,"tr",10)}if(2&e){const r=i.$implicit;t.xp6(2),t.Oqu(r.name),t.xp6(2),t.Oqu(r.zip),t.xp6(10),t.Q6J("ngForOf",r.cart.lines)}}let J=(()=>{var e;class i{constructor(n){this.repository=n,this.includeShipped=!1}getOrders(){return this.repository.getOrders().filter(n=>this.includeShipped||!n.shipped)}markShipped(n){n.shipped=!0,this.repository.updateOrder(n)}delete(n){this.repository.deleteOrder(n)}ngOnInit(){}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(y.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-table"]],decls:17,vars:3,consts:[[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"table","table-sm"],["colspan","2"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["colspan","5"],[1,"btn","btn-warning","m-1",3,"click"],[1,"btn","btn-danger",3,"click"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"label",1)(2,"input",2),t.NdJ("ngModelChange",function(d){return o.includeShipped=d}),t.qZA(),t._uU(3," Display Shipped Orders "),t.qZA()(),t.TgZ(4,"table",3)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Zip"),t.qZA(),t.TgZ(11,"th",4),t._uU(12,"Cart"),t.qZA(),t._UZ(13,"th"),t.qZA()(),t.TgZ(14,"tbody"),t.YNc(15,M,3,0,"tr",5),t.YNc(16,O,15,3,"ng-template",6),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngModel",o.includeShipped),t.xp6(13),t.Q6J("ngIf",0==o.getOrders().length),t.xp6(1),t.Q6J("ngForOf",o.getOrders()))},dependencies:[l.sg,l.O5,a.Wl,a.JJ,a.On]}),i})(),Z=(()=>{var e;class i{constructor(n,o){this.router=n,this.auth=o}canActivate(n,o){return!!this.auth.authenticated||(this.router.navigateByUrl("/admin/auth"),!1)}}return(e=i).\u0275fac=function(n){return new(n||e)(t.LFG(p.F0),t.LFG(m.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),i})(),F=p.Bz.forChild([{path:"auth",component:T},{path:"main",component:f,canActivate:[Z],children:[{path:"products/:mode/:id",component:_},{path:"products/:mode",component:_},{path:"products",component:v},{path:"orders",component:J},{path:"**",redirectTo:"products"}]},{path:"**",redirectTo:"auth"}]),x=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[Z],imports:[l.ez,a.u5,F]}),i})()}}]);